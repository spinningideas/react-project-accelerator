{"version":3,"file":"Home-D7R_PY7Y.js","sources":["../../src/services/GeoService.ts","../../src/components/home/GetStartedMessage.tsx","../../src/pages/Home.tsx"],"sourcesContent":["import ApiResponse from \"@/models/api/ApiResponse\";\r\nimport GeoServiceLocation from \"@/models/GeoServiceLocation\";\r\n\r\n/* See: https://ipwhois.io/documentation */\r\nconst GeoService = () => {\r\n  const getCurrentIPAddress = async (): Promise<ApiResponse<GeoServiceLocation>> => {\r\n    try {\r\n      const url = \"https://ipwho.is/\";\r\n      const response = await fetch(url, {\r\n        method: \"GET\",\r\n        headers: { Accept: \"application/json\" },\r\n      });\r\n      \r\n      if (!response.ok) {\r\n        return {\r\n          success: false,\r\n          message: `Failed to fetch IP address: ${response.statusText}`,\r\n        };\r\n      }\r\n      \r\n      const geoResult = await response.json();\r\n      \r\n      const location: GeoServiceLocation = {\r\n        ip: geoResult.ip,\r\n        city: geoResult.city,\r\n        region: geoResult.region,\r\n        country: geoResult.country,\r\n        latitude: geoResult.latitude,\r\n        longitude: geoResult.longitude,\r\n        message: `Your ip is ${geoResult.ip} and your location: ${geoResult.latitude}, ${geoResult.longitude} which is in ${geoResult.city}, ${geoResult.region} ${geoResult.country}`,\r\n      };\r\n\r\n      return {\r\n        success: true,\r\n        data: location,\r\n      };\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        message: error instanceof Error ? error.message : \"Failed to fetch IP address\",\r\n      };\r\n    }\r\n  };\r\n\r\n  return {\r\n    getCurrentIPAddress,\r\n  };\r\n};\r\n\r\nexport default GeoService;\r\n","const GetStartedMessage = ({\n  displayGetStarted,\n  message,\n}: {\n  displayGetStarted: boolean;\n  message: string;\n}) => {\n  if (!displayGetStarted) return null;\n\n  return (\n    <div className=\"w-full\">\n      <p id=\"get-started-message\" className=\"text-muted-foreground\">\n        {message}\n      </p>\n    </div>\n  );\n};\n\nexport default GetStartedMessage;\n","import { useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { motion } from \"framer-motion\";\r\n// contexts\r\nimport { useAuth } from \"@/contexts/AuthContext\";\r\nimport { useLocalization } from \"@/contexts/LocalizationContext\";\r\n// services\r\nimport GeoService from \"@/services/GeoService\";\r\nimport NotificationsService from \"@/services/NotificationsService\";\r\n// components\r\nimport { Button } from \"@/components/ui/button\";\r\nimport {\r\n  Card,\r\n  CardContent,\r\n  CardFooter,\r\n  CardHeader,\r\n  CardTitle,\r\n} from \"@/components/ui/card\";\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogHeader,\r\n  DialogTitle,\r\n} from \"@/components/ui/dialog\";\r\nimport LoadingIndicator from \"@/components/shared/LoadingIndicator\";\r\nimport GetStartedMessage from \"@/components/home/GetStartedMessage\";\r\n\r\nconst Home = () => {\r\n  const { user } = useAuth();\r\n  const { locData, loadLocalizedText } = useLocalization();\r\n  const [modalOpen, setModalOpen] = useState(false);\r\n  const [userIpAddress, setUserIpAddress] = useState(\"\");\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const geoService = GeoService();\r\n  const notificationsService = NotificationsService();\r\n\r\n  useEffect(() => {\r\n    loadLocalizedText([\r\n      \"aboutdescription\",\r\n      \"authenticatedcontent\",\r\n      \"authenticatedcontentdescription\",\r\n      \"close\",\r\n      \"error\",\r\n      \"forms\",\r\n      \"formsexample\",\r\n      \"formsexampledescription\",\r\n      \"getstartedmessage\",\r\n      \"homepagewelcome\",\r\n      \"info\",\r\n      \"message\",\r\n      \"modals\",\r\n      \"modalsdescription\",\r\n      \"notifications\",\r\n      \"notificationsdescription\",\r\n      \"serviceexampledescription\",\r\n      \"serviceexampletitle\",\r\n      \"services\",\r\n      \"success\",\r\n      \"view\",\r\n      \"welcome\",\r\n    ]);\r\n  }, []);\r\n\r\n  const showNotification = (\r\n    message: string,\r\n    type: \"success\" | \"error\" | \"info\" | \"default\",\r\n  ) => {\r\n    notificationsService.show(message, type);\r\n  };\r\n\r\n  const showIpAddress = async () => {\r\n    setUserIpAddress(\"\");\r\n    setIsLoading(true);\r\n    try {\r\n      const response = await geoService.getCurrentIPAddress();\r\n      if (response.success && response.data) {\r\n        setUserIpAddress(response.data.message);\r\n      } else {\r\n        setUserIpAddress(\"Error occurred\");\r\n      }\r\n    } catch (error) {\r\n      setUserIpAddress(\"Error occurred\");\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const containerVariants = {\r\n    hidden: { opacity: 0 },\r\n    visible: {\r\n      opacity: 1,\r\n      transition: {\r\n        staggerChildren: 0.1,\r\n      },\r\n    },\r\n  };\r\n\r\n  const itemVariants = {\r\n    hidden: { y: 20, opacity: 0 },\r\n    visible: {\r\n      y: 0,\r\n      opacity: 1,\r\n      transition: {\r\n        type: \"spring\" as const,\r\n        stiffness: 100,\r\n      },\r\n    },\r\n  };\r\n\r\n  return (\r\n    <div className=\"container mx-auto px-4 py-8\">\r\n      <motion.div\r\n        initial=\"hidden\"\r\n        animate=\"visible\"\r\n        variants={containerVariants}\r\n        className=\"space-y-6\"\r\n      >\r\n        <motion.div variants={itemVariants}>\r\n          <h2 className=\"text-3xl font-bold mb-6\">{locData.homepagewelcome}</h2>\r\n        </motion.div>\r\n\r\n        <motion.div variants={itemVariants}>\r\n          <GetStartedMessage\r\n            displayGetStarted={true}\r\n            message={locData.getstartedmessage}\r\n          />\r\n        </motion.div>\r\n\r\n        {user && (\r\n          <motion.div variants={itemVariants}>\r\n            <Card className=\"border-l-4 border-l-primary\">\r\n              <CardHeader>\r\n                <CardTitle>{locData.authenticatedcontent}</CardTitle>\r\n              </CardHeader>\r\n              <CardContent>\r\n                <p>{locData.authenticatedcontentdescription}</p>\r\n              </CardContent>\r\n            </Card>\r\n          </motion.div>\r\n        )}\r\n\r\n        <motion.div variants={itemVariants}>\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle>{locData.notifications}</CardTitle>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <p>{locData.notificationsdescription}</p>\r\n            </CardContent>\r\n            <CardFooter className=\"gap-2\">\r\n              <Button\r\n                variant=\"secondary\"\r\n                onClick={() => showNotification(locData.success, \"success\")}\r\n              >\r\n                {locData.success}\r\n              </Button>\r\n              <Button\r\n                variant=\"secondary\"\r\n                onClick={() => showNotification(locData.info, \"info\")}\r\n              >\r\n                {locData.info}\r\n              </Button>\r\n              <Button\r\n                variant=\"secondary\"\r\n                onClick={() => showNotification(locData.error, \"error\")}\r\n              >\r\n                {locData.error}\r\n              </Button>\r\n              <Button\r\n                variant=\"secondary\"\r\n                onClick={() => showNotification(locData.message, \"default\")}\r\n              >\r\n                {locData.message}\r\n              </Button>\r\n            </CardFooter>\r\n          </Card>\r\n        </motion.div>\r\n\r\n        <motion.div variants={itemVariants}>\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle>{locData.modals || \"Modal Dialogs\"}</CardTitle>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <p>\r\n                {locData.modalsdescription ||\r\n                  \"Below are examples of modal dialogs\"}\r\n              </p>\r\n            </CardContent>\r\n            <CardFooter>\r\n              <Button variant=\"secondary\" onClick={() => setModalOpen(true)}>\r\n                {locData.view || \"View\"}\r\n              </Button>\r\n            </CardFooter>\r\n          </Card>\r\n        </motion.div>\r\n\r\n        <Dialog open={modalOpen} onOpenChange={setModalOpen}>\r\n          <DialogContent>\r\n            <DialogHeader>\r\n              <DialogTitle>{locData.welcome}</DialogTitle>\r\n            </DialogHeader>\r\n            <div className=\"space-y-4\">\r\n              <p>{locData.homepagewelcome}</p>\r\n              <p>{locData.aboutdescription}</p>\r\n              <Button variant=\"secondary\" onClick={() => setModalOpen(false)}>\r\n                {locData.close}\r\n              </Button>\r\n            </div>\r\n          </DialogContent>\r\n        </Dialog>\r\n\r\n        <motion.div variants={itemVariants}>\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle>{locData.services}</CardTitle>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <p>{locData.serviceexampledescription}</p>\r\n              <Button\r\n                variant=\"secondary\"\r\n                onClick={showIpAddress}\r\n                className=\"mt-4\"\r\n              >\r\n                {locData.serviceexampletitle}\r\n              </Button>\r\n              {isLoading ? (\r\n                <LoadingIndicator\r\n                  loading={isLoading}\r\n                  size={5}\r\n                  className=\"mt-2\"\r\n                />\r\n              ) : (\r\n                userIpAddress && <p className=\"mt-2\">{userIpAddress}</p>\r\n              )}\r\n            </CardContent>\r\n          </Card>\r\n        </motion.div>\r\n\r\n        <motion.div variants={itemVariants}>\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle>{locData.forms}</CardTitle>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <p>{locData.formsexampledescription}</p>\r\n              <Button variant=\"secondary\" asChild className=\"mt-4\">\r\n                <Link to=\"/contact/testnameparam\">{locData.formsexample}</Link>\r\n              </Button>\r\n            </CardContent>\r\n          </Card>\r\n        </motion.div>\r\n      </motion.div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n"],"names":["GeoService","response","geoResult","error","GetStartedMessage","displayGetStarted","message","jsx","Home","user","useAuth","locData","loadLocalizedText","useLocalization","modalOpen","setModalOpen","useState","userIpAddress","setUserIpAddress","isLoading","setIsLoading","geoService","notificationsService","NotificationsService","useEffect","showNotification","type","showIpAddress","containerVariants","itemVariants","jsxs","motion","Card","CardHeader","CardTitle","CardContent","CardFooter","Button","Dialog","DialogContent","DialogHeader","DialogTitle","LoadingIndicator","Link"],"mappings":"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"}