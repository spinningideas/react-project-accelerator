{"version":3,"file":"SignUpVerify-Ccy-ryS7.js","sources":["../../node_modules/lucide-react/dist/esm/icons/circle-check-big.js","../../node_modules/lucide-react/dist/esm/icons/circle-x.js","../../node_modules/lucide-react/dist/esm/icons/mail.js","../../src/components/ui/alert.tsx","../../src/pages/auth/SignUpVerify.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.563.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M21.801 10A10 10 0 1 1 17 3.335\", key: \"yps3ct\" }],\n  [\"path\", { d: \"m9 11 3 3L22 4\", key: \"1pflzl\" }]\n];\nconst CircleCheckBig = createLucideIcon(\"circle-check-big\", __iconNode);\n\nexport { __iconNode, CircleCheckBig as default };\n//# sourceMappingURL=circle-check-big.js.map\n","/**\n * @license lucide-react v0.563.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"path\", { d: \"m15 9-6 6\", key: \"1uzhvr\" }],\n  [\"path\", { d: \"m9 9 6 6\", key: \"z0biqf\" }]\n];\nconst CircleX = createLucideIcon(\"circle-x\", __iconNode);\n\nexport { __iconNode, CircleX as default };\n//# sourceMappingURL=circle-x.js.map\n","/**\n * @license lucide-react v0.563.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7\", key: \"132q7q\" }],\n  [\"rect\", { x: \"2\", y: \"4\", width: \"20\", height: \"16\", rx: \"2\", key: \"izxlao\" }]\n];\nconst Mail = createLucideIcon(\"mail\", __iconNode);\n\nexport { __iconNode, Mail as default };\n//# sourceMappingURL=mail.js.map\n","import * as React from \"react\";\r\nimport { cva, type VariantProps } from \"class-variance-authority\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nconst alertVariants = cva(\r\n  \"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default: \"bg-background text-foreground\",\r\n        destructive: \"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n    },\r\n  },\r\n);\r\n\r\nconst Alert = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>\r\n>(({ className, variant, ...props }, ref) => (\r\n  <div ref={ref} role=\"alert\" className={cn(alertVariants({ variant }), className)} {...props} />\r\n));\r\nAlert.displayName = \"Alert\";\r\n\r\nconst AlertTitle = React.forwardRef<HTMLParagraphElement, React.HTMLAttributes<HTMLHeadingElement>>(\r\n  ({ className, ...props }, ref) => (\r\n    <h5 ref={ref} className={cn(\"mb-1 font-medium leading-none tracking-tight\", className)} {...props} />\r\n  ),\r\n);\r\nAlertTitle.displayName = \"AlertTitle\";\r\n\r\nconst AlertDescription = React.forwardRef<HTMLParagraphElement, React.HTMLAttributes<HTMLParagraphElement>>(\r\n  ({ className, ...props }, ref) => (\r\n    <div ref={ref} className={cn(\"text-sm [&_p]:leading-relaxed\", className)} {...props} />\r\n  ),\r\n);\r\nAlertDescription.displayName = \"AlertDescription\";\r\n\r\nexport { Alert, AlertTitle, AlertDescription };\r\n","import { useState, useEffect } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n  Card,\n  CardHeader,\n  CardContent,\n  CardFooter,\n} from \"@/components/ui/card\";\nimport { Alert, AlertTitle, AlertDescription } from \"@/components/ui/alert\";\nimport { LoadingIndicator } from \"@/components/shared/LoadingIndicator\";\nimport { CheckCircle, XCircle, Mail } from \"lucide-react\";\n// services\nimport { verifyUserByToken } from \"@/services/auth\";\n\n/*\n * SignUpVerify page - Verifies a user's email address via token provided to user\n * @param token - string\n */\nconst SignUpVerify = () => {\n  const { token } = useParams<{ token: string }>();\n  const navigate = useNavigate();\n  const [verificationStatus, setVerificationStatus] = useState<{\n    isLoading: boolean;\n    isVerified: boolean;\n    message: string;\n    attempted: boolean;\n  }>({\n    isLoading: false,\n    isVerified: false,\n    message: \"\",\n    attempted: false,\n  });\n\n  const verifyUserToken = async (userToken: string) => {\n    if (!userToken) {\n      setVerificationStatus({\n        isLoading: false,\n        isVerified: false,\n        message: \"Invalid verification token\",\n        attempted: true,\n      });\n      return;\n    }\n\n    setVerificationStatus({\n      ...verificationStatus,\n      isLoading: true,\n      attempted: true,\n    });\n\n    try {\n      const verificationResponse = await verifyUserByToken(userToken);\n\n      // Remember that API responses are wrapped in a response object with success, data, and message properties\n      if (!verificationResponse.success) {\n        setVerificationStatus({\n          isLoading: false,\n          isVerified: false,\n          message:\n            verificationResponse.message ||\n            \"Verification failed. Please try again or contact support.\",\n          attempted: true,\n        });\n        return;\n      }\n\n      setVerificationStatus({\n        isLoading: false,\n        isVerified: true,\n        message: \"Your email has been successfully verified!\",\n        attempted: true,\n      });\n    } catch (error) {\n      setVerificationStatus({\n        isLoading: false,\n        isVerified: false,\n        message:\n          \"An error occurred during verification. Please try again later.\",\n        attempted: true,\n      });\n    }\n  };\n\n  const handleSignIn = () => {\n    navigate(\"/signin\");\n  };\n\n  const handleRetry = () => {\n    if (token && token.length > 0) {\n      verifyUserToken(token);\n    }\n  };\n\n  const getVerificationMessage = () => {\n    if (!verificationStatus.attempted || verificationStatus.isLoading) {\n      return \"Verification In Progress...\";\n    }\n    return verificationStatus.isVerified\n      ? \"Thank you for verifying your email\"\n      : \"Email verification failed\";\n  };\n\n  // Automatically attempt verification when the component loads\n  useEffect(() => {\n    if (token && token.length > 0) {\n      verifyUserToken(token);\n    }\n  }, [token]);\n\n  return (\n    <div className=\"min-h-screen bg-background flex items-center justify-center p-4 bg-white/80 dark:bg-black\">\n      <Card className=\"w-full max-w-md shadow-lg\">\n        <CardHeader className=\"text-center\">\n          <div className=\"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-primary/10\">\n            <Mail className=\"h-8 w-8 text-primary\" />\n          </div>\n          <h1 className=\"text-2xl font-bold\">Email Verification</h1>\n          <p className=\"text-muted-foreground\">{getVerificationMessage()}</p>\n        </CardHeader>\n\n        <CardContent>\n          {verificationStatus.isLoading ? (\n            <div className=\"flex justify-center py-6\">\n              <LoadingIndicator\n                loading={true}\n                message=\"Verifying your email...\"\n              />\n            </div>\n          ) : verificationStatus.attempted ? (\n            <Alert\n              variant={\n                verificationStatus.isVerified ? \"default\" : \"destructive\"\n              }\n              className=\"my-4\"\n            >\n              <div className=\"flex items-center gap-2\">\n                {verificationStatus.isVerified ? (\n                  <CheckCircle className=\"h-5 w-5\" />\n                ) : (\n                  <XCircle className=\"h-5 w-5\" />\n                )}\n                <AlertTitle>\n                  {verificationStatus.isVerified\n                    ? \"Success!\"\n                    : \"Verification Failed\"}\n                </AlertTitle>\n              </div>\n              <AlertDescription className=\"mt-2\">\n                {verificationStatus.message}\n              </AlertDescription>\n            </Alert>\n          ) : null}\n        </CardContent>\n\n        <CardFooter className=\"flex justify-center gap-4\">\n          {verificationStatus.isVerified ? (\n            <Button\n              onClick={handleSignIn}\n              className=\"flex w-fit rounded-full text-white bg-green-700 hover:bg-green-800 focus:outline-none focus:ring-4 focus:ring-green-300 font-medium text-sm px-5 py-2.5 dark:bg-green-600 dark:hover:bg-green-700 dark:focus:ring-green-800\"\n            >\n              Continue to Sign In\n            </Button>\n          ) : verificationStatus.attempted && !verificationStatus.isLoading ? (\n            <>\n              <Button onClick={handleRetry} variant=\"secondary\">\n                Try Again\n              </Button>\n              <Button onClick={() => navigate(\"/signup\")} variant=\"default\">\n                Back to Sign Up\n              </Button>\n            </>\n          ) : null}\n        </CardFooter>\n      </Card>\n    </div>\n  );\n};\n\nexport default SignUpVerify;\n"],"names":["__iconNode","CircleCheckBig","createLucideIcon","CircleX","Mail","alertVariants","cva","Alert","React.forwardRef","className","variant","props","ref","jsx","cn","AlertTitle","AlertDescription","SignUpVerify","token","useParams","navigate","useNavigate","verificationStatus","setVerificationStatus","useState","verifyUserToken","userToken","verificationResponse","verifyUserByToken","handleSignIn","handleRetry","getVerificationMessage","useEffect","jsxs","Card","CardHeader","CardContent","LoadingIndicator","CheckCircle","XCircle","CardFooter","Button","Fragment"],"mappings":"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","x_google_ignoreList":[0,1,2]}