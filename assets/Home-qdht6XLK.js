import{j as e,b as S,u as A,r as u,C as o,f as d,g as l,h,t as y,B as n,a9 as k,aa as E,ab as L,ac as $,L as D,x as P}from"./index-D0EbrHJh.js";import{N as T}from"./NotificationsService-GrxziKpk.js";import{m as t}from"./proxy-B4g31hJi.js";const G=()=>({getCurrentIPAddress:async()=>{try{const c=await fetch("https://ipwho.is/",{method:"GET",headers:{Accept:"application/json"}});if(!c.ok)return{success:!1,message:`Failed to fetch IP address: ${c.statusText}`};const i=await c.json();return{success:!0,data:{ip:i.ip,city:i.city,region:i.region,country:i.country,latitude:i.latitude,longitude:i.longitude,message:`Your ip is ${i.ip} and your location: ${i.latitude}, ${i.longitude} which is in ${i.city}, ${i.region} ${i.country}`}}}catch(s){return{success:!1,message:s instanceof Error?s.message:"Failed to fetch IP address"}}}}),z=({displayGetStarted:x,message:s})=>x?e.jsx("div",{className:"w-full",children:e.jsx("p",{id:"get-started-message",className:"text-muted-foreground",children:s})}):null,B=()=>{const{user:x}=S(),{locData:s,loadLocalizedText:c}=A(),[i,m]=u.useState(!1),[j,p]=u.useState(""),[g,v]=u.useState(!1),C=G(),w=T();u.useEffect(()=>{c(["welcome","homepagewelcome","aboutdescription","getstartedmessage","notifications","notificationsdescription","modals","modalsdescription","error","success","view","close","authenticatedcontent","authenticatedcontentdescription","services","serviceexampletitle","serviceexampledescription","forms","formsexample","formsexampledescription"])},[]);const f=(a,I)=>{w.show(a,I)},N=async()=>{p(""),v(!0);try{const a=await C.getCurrentIPAddress();a.success&&a.data?p(a.data.message):p("Error occurred")}catch{p("Error occurred")}finally{v(!1)}},b={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},r={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:100}}};return e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs(t.div,{initial:"hidden",animate:"visible",variants:b,className:"space-y-6",children:[e.jsx(t.div,{variants:r,children:e.jsx("h2",{className:"text-3xl font-bold mb-6",children:s.homepagewelcome})}),e.jsx(t.div,{variants:r,children:e.jsx(z,{displayGetStarted:!0,message:s.getstartedmessage})}),x&&e.jsx(t.div,{variants:r,children:e.jsxs(o,{className:"border-l-4 border-l-primary",children:[e.jsx(d,{children:e.jsx(l,{children:s.authenticatedcontent})}),e.jsx(h,{children:e.jsx("p",{children:s.authenticatedcontentdescription})})]})}),e.jsx(t.div,{variants:r,children:e.jsxs(o,{children:[e.jsx(d,{children:e.jsx(l,{children:s.notifications})}),e.jsx(h,{children:e.jsx("p",{children:s.notificationsdescription})}),e.jsxs(y,{className:"gap-2",children:[e.jsx(n,{variant:"secondary",onClick:()=>f(s.success,"success"),children:s.success}),e.jsx(n,{variant:"secondary",onClick:()=>f(s.error,"error"),children:s.error})]})]})}),e.jsx(t.div,{variants:r,children:e.jsxs(o,{children:[e.jsx(d,{children:e.jsx(l,{children:s.modals})}),e.jsx(h,{children:e.jsx("p",{children:s.modalsdescription})}),e.jsx(y,{children:e.jsx(n,{variant:"secondary",onClick:()=>m(!0),children:s.view})})]})}),e.jsx(k,{open:i,onOpenChange:m,children:e.jsxs(E,{children:[e.jsx(L,{children:e.jsx($,{children:s.welcome})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{children:s.homepagewelcome}),e.jsx("p",{children:s.aboutdescription}),e.jsx(n,{variant:"secondary",onClick:()=>m(!1),children:s.close})]})]})}),e.jsx(t.div,{variants:r,children:e.jsxs(o,{children:[e.jsx(d,{children:e.jsx(l,{children:s.services})}),e.jsxs(h,{children:[e.jsx("p",{children:s.serviceexampledescription}),e.jsx(n,{variant:"secondary",onClick:N,className:"mt-4",children:s.serviceexampletitle}),g?e.jsx(D,{loading:g,size:5,className:"mt-2"}):j&&e.jsx("p",{className:"mt-2",children:j})]})]})}),e.jsx(t.div,{variants:r,children:e.jsxs(o,{children:[e.jsx(d,{children:e.jsx(l,{children:s.forms})}),e.jsxs(h,{children:[e.jsx("p",{children:s.formsexampledescription}),e.jsx(n,{variant:"secondary",asChild:!0,className:"mt-4",children:e.jsx(P,{to:"/contact/testnameparam",children:s.formsexample})})]})]})})]})})};export{B as default};
